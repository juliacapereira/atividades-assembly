TITLE PROGRAMA ATIV903
.MODEL SMALL
.STACK 100H
.DATA
    VETOR DB 7 DUP(?)
.CODE
MAIN PROC
;REALIZA A LEITURA DE .DATA
MOV AX, @DATA
MOV DS,AX
;ZERA DL
XOR DL, DL
;ZERA BX
XOR BX,BX
;ZERA SI
XOR SI,SI
;ENTRA NO PROCEDIMENTO LER
CALL LER
;ENTRA NO PROCEDIMENTO TROCA
CALL TROCA
;ENTRA NO PROCEDIMENTO IMPRIMIR
CALL IMPRIMIR
;FINALIZA TUDO
MOV AH,4CH
INT 21H ;saida para o DOS
MAIN ENDP

;PROCEDIMENTO LER (RESPONSÁVEL PELA LEITURA DOS CARACTERES QUE VÃO ENTRAR NO VETOR)
LER PROC
    ;REALIZA A LEITURA DO VETOR INSERIDO EM .DATA
    LEA BX, VETOR
    ;ATRIBUI 7 A CX PARA O LOOP
    MOV CX,7
    ;INICIA A LEITURA DOS CARACTERES
    MOV AH,1
    LEITURA:
    INT 21H
    ;MOVE O CARACTER LIDO PARA A POSIÇÃO DO VETOR CORRESPONDENTE AO VALOR DE BX 
    MOV [BX],AL
    ;AUMENTA 1 EM BX
    INC BX
LOOP LEITURA
RET ;RETORNA AO PROGRAMA PRINCIPAL
LER ENDP 

;PROCEDIMENTO PARA TROCAR AS POSIÇÕES
TROCA PROC
    ;REALIZA A LEITURA DO VETOR INSERIDO EM .DATA
    LEA BX,VETOR
    ;ATRIBUI 6 A SI
    MOV SI,6
    ;ATRIBUI 3 A CX PARA O LOOP (TROCA OS 3 PRIMEIROS NUMEROS COM OS 3 ULTIMOS NUMEROS E 0 4º NUMERO SE MANTEM O MESMO)
    MOV CX,3
    TROCAR:
        MOV AL,[BX] ;ATRIBUI O QUE TIVER NO VETOR NA POSIÇÃO DO VALOR DE BX (NA PRIMEIRA LEITURA, BX É 0 ENTÃO LÊ O QUE TEM NA POSIÇÃO 0 NO VETOR) A AL
        XCHG AL,[SI] ;TROCA O QUE TEM EM AL COM O QUE TEM NA POSIÇÃO SI NO VETOR (NA PRIMEIRA LEITURA, SI É 6, ENTÃO O QUE ESTIVER NA POSIÇÃO 6 AGORA SERÁ O QUE AL RECEBEU DE BX 
        ;QUE NO CASO DA PRIMEIRA LEITURA É A POSIÇÃO 0 DO VETOR) ENTÃO O QUE TEM NA POSIÇÃO DE SI ( NA 1° LEITURA:POS 6=O 7º CARACTER DIGITADO) RECEBE O QUE TINHA EM AL (POS 6 RECEBE  E AL RECEBE O NUMERO QUE TINHA NA 
        ;POSIÇÃO DE SI (POS 6 RECEBE O QUE TINHA NA POS 0=1ºCARACTER DIGITADO ENTÃO A POS6 AGORA TEM O QUE TINHA NA POS0) E AL RECEBE O NUMERO QUE TINHA NA POSIÇÃO DE SI (AL AGORA É O QUE TINHA NA POSIÇÃO 6,
        ;OU SEJA PEGA O ULTIMO CARACTER DIGITADO)
        MOV [BX],AL ;JOGA O QUE AL RECEBEU DE SI (O SETIMO CARACTER DIGITADO) NA POSIÇÃO DE BX (QUE NA PRIMEIRA LEITURA AINDA É 0)
        DEC SI ;DECREMENTA UM DE SI PARA IR PRA POSIÇÃO ANTERIOR DO VETOR
        INC BX ;SOMA 1 PARA PASSAR PARA A PROXIMA POSIÇÃO DO VETOR
    LOOP TROCAR
    RET ;RETORNA AO PROGRAMA PRINCIPAL
TROCA ENDP

;PROCEDIMENTO PARA IMPRIMIR O VETOR
IMPRIMIR PROC
    ;ZERA BX PARA IR PARA A POSIÇÃO 0
    XOR BX,BX
    ;ATRIBUI 7 A CX PARA IMPRIMIR 7 VEZES
    MOV CX,7
    ;PULA LINHA
    MOV AH,2
    MOV DL,10
    INT 21H
    ;LEVA O CURSOR PARA A ESQUERDA
    MOV AH,2
    MOV DL,13
    INT 21H
    ;COMEÇA A IMPRESSÃO DO VETOR
    MOV AH,2
IMPRESSAO:
;IMPRIME CADA POSIÇÃO DO VETOR
    MOV DL,[BX]
    INT 21H
    ;SOMA 1 EM BX PARA PASSAR PARA A PROXIMA POSIÇÃO
    INC BX
LOOP IMPRESSAO
RET ;RETORNA AO PROGRAMA PRINCIPAL
IMPRIMIR ENDP
END MAIN