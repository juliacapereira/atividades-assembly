TITLE IMPRIMIR MATRIZ
.MODEL SMALL
.STACK 100H
pula_linha macro
    PUSH AX
    PUSH DX
    MOV AH,02
    MOV DL,10
    INT 21H
    POP DX
    POP AX
endm
.DATA
MATRIZ4X4 DB 1,2,3,4
          DB 4,3,2,1
          DB 5,6,7,8
          DB 8,7,6,5
.CODE
    MAIN PROC
        MOV AX,@DATA
        MOV DS,AX ;LE O INSERIDO EM .DATA
        XOR BX,BX ;ZERA BX
        XOR SI,SI ;ZERA SI
        ;INICIA A LEITURA DAS LINHAS
        IMPRIMIRPROXIMALINHA:
        MOV CX,4 ;TEM 4 ELEMENTOS EM CADA LINHA, ENTÃO IMPRIME 4 ELEMENTOS POR LINHA
        MOV AH,2 ;INICIA A IMPRESSÃO
        XOR SI,SI ;ZERA SI
        CALL IMPRIMIRLINHA ;ENTRA NO PROCEDIMENTO IMPRIMIR LINHA (QUE IMPRIME A LINHA RESPECTIVA AO VALOR DE BX)
        ADD BX,4 ;ADICIONA 4 EM BX PARA PASSAR PARA A PROXIMA LINHA A SER IMPRESSA
        CMP BX,12 ;COMPARA BX COM 12 (A ULTIMA LINHA É 12)
        pula_linha ;USA A MACRO PULA LINHA
        JBE IMPRIMIRPROXIMALINHA ;SE BX FOR MENOR OU IGUAL A 12, INICIA A LEITURA DAS LINHAS NOVAMENTE
        ;FINALIZA O PROGRAMA QUANDO BX FOR MAIOR QUE 12
        MOV AH,4CH
        INT 21H
        MAIN ENDP

        IMPRIMIRLINHA PROC
        MOV DL,MATRIZ4X4[BX][SI] ;IMPRIME OS ELEMENTOS DA MATRIZ
        ADD DL,30H ;ADICIONA 30H PARA IMPRIMIR O NUMERO CORRESPONDENTE EM HEXA
        INT 21H
        INC SI ;AUMENTA SI PARA IMPRIMIR O PROXIMO ELEMENTO
        LOOP IMPRIMIRLINHA ;IMPRIME TODOS OS ELEMENTOS DE CADA LINHA (USA O CX ATRIBUIDO NO MAIN)
        RET
        IMPRIMIRLINHA ENDP
        END MAIN
        
